--- 
import Logo from "./Logo.astro"
---
<header class="py-3 px-10 flex items-center fixed 0 w-full justify-between z-40 text-white" id="landing-header">
    <div class="flex flex-grow bassis-0">
      <Logo/> 
    </div>

    <nav>
      <ul
        class="flex text-sm [&>li>a]:transition-colors text-current[&>li>a]:duration-500 font-medium :inline-block [&>li>a]:px-4 [&>li>a]:py-2"
      >
        <li><a href="#">Modelo S</a></li>
        <li><a href="#">Modelo 3 </a></li>
        <li><a href="#">Modelo X</a></li>
        <li><a href="#">Modelo Y</a></li>
        <li><a href="#">Techo solar</a></li>
        <li><a href="#">Paneles solares</a></li>
        <li><a href="#">Powerwall</a></li>
      </ul>
    </nav>

    <nav class="flex flex-grow justify-end ">
      <ul
         class="flex text-sm[&>li>a]:transition-colors text-current [&>li>a]:duration-500 font-medium:inline-block [&>li>a]:px-4 [&>li>a]:py-2"
      >
        <li><a href="#">Tienda</a></li>
        <li><a href="#">Cuenta</a></li>
        <li><a href="#">Menu</a></li>
      </ul>
    
      
</header>
<script>
  const headerEl = document.querySelector("#landing-header") as HTMLElement

  const  observerOptions = {
   root: null, 
   rootMargin:'0px', //en cuanto se vea el elemento
   threshold: 0.90 //porcentaje de visivilidad   
  }

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      const { isIntersecting } = entry
      if (isIntersecting) {
        const color = entry.target.getAttribute("data-header-color")
        headerEl.style.color = color
      }
    })
  }, observerOptions)

  const sectionElements = document.querySelectorAll(".landing-section")
  sectionElements.forEach((section) => observer.observe(section))


</script>
